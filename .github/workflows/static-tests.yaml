---

name: Static Tests
# yamllint disable-line rule:truthy
on: [pull_request]

jobs:
  yamllint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: YAML Lint
        uses: ibiqlik/action-yamllint@v3


  python-ruff:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Install Ruff.
        run: pip install -r requirements.txt

      - name: Check linting.
        run: ruff --verbose check .

      - name: Check formatting.
        run: ruff --verbose format .


  python-unit:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Install Pip requirements
        run: pip install -r requirements.txt

      - name: Run unittests
        run: python3 -m unittest
